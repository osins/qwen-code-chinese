# 更新日志

## 0.0.14

- 添加了任务规划的计划模式支持
- 修复了注入额外转义字符的不可靠 editCorrector
- 修复了任务工具动态更新
- 添加了 Qwen3-VL-Plus 令牌限制（256K 输入，32K 输出）和高分辨率支持
- 增强了 dashScope 缓存控制

## 0.0.13

- 添加了 YOLO 模式支持，可通过 CLI 参数和环境变量自动切换视觉模型。
- 修复了 ripgrep 惰性加载以解决 VS Code IDE 配套程序启动问题。
- 修复了选择 Qwen OAuth 时的身份验证挂起问题。
- 为 Zed ACP 集成添加了 OpenAI 和 Qwen OAuth 身份验证支持。
- 修复了 Qwen 模型的输出令牌限制。
- 修复了 Windows 上的 Markdown 列表显示问题。
- 增强了视觉模型说明和文档。
- 改进了不同 IDE 集成之间的身份验证方法兼容性。

## 0.0.12

- 为 Qwen-OAuth 身份验证添加了视觉模型支持。
- 将上游 `gemini-cli` 同步到 v0.3.4，包含众多改进和错误修复。
- 通过系统提醒增强了子代理功能并改进了用户体验。
- 添加了工具调用类型强制转换以获得更好的兼容性。
- 修复了 Windows 上的箭头键导航问题。
- 修复了 OpenAI 日志记录中缺少的工具调用块。
- 修复了系统提示问题以避免格式错误的工具调用。
- 修复了子代理执行时的终端闪烁问题。
- 修复了在主目录中运行时重复的子代理配置问题。
- 修复了 Esc 键无法取消子代理对话框的问题。
- 当上下文文件存在时为 `/init` 命令添加了确认提示。
- 添加了 `skipLoopDetection` 配置选项。
- 修复了 `is_background` 参数重置问题。
- 通过多行粘贴处理增强了 Windows 兼容性。
- 改进了子代理文档和品牌一致性。
- 修复了各种 linting 错误并改进了代码质量。
- 其他改进和错误修复。

## 0.0.11

- 添加了子代理功能，具有基于文件的配置系统，用于专业 AI 助手。
- 添加了带有项目摘要和增强退出选项的欢迎回来对话框。
- 修复了 SharedTokenManager 的性能问题，该问题导致 20 分钟的延迟。
- 修复了工具调用 UI 问题并改进了用户体验。
- 修复了切换身份验证类型时的凭据清除问题。
- 增强了子代理功能，使其能够使用需要用户确认的工具。
- 通过跨文件共享行限制改进了 ReadManyFiles 工具。
- 重新实现了 tokenLimits 类，以更好地兼容 Qwen 和其他模型类型。
- 修复了块验证以避免不必要的重试。
- 解决了 EditTool 命名不一致导致代理混淆循环的问题。
- 修复了 auth-token 过期时的意外重新身份验证问题。
- 添加了 Terminal Bench 集成测试。
- 更新了 README 中的多语言文档链接。
- 修复了各种 Windows 兼容性问题。
- 其他改进和错误修复。

## 0.0.10

- 将上游 `gemini-cli` 同步到 v0.2.1。
- 添加了待办事项写入工具用于任务管理和进度跟踪。

## 0.0.9

- 将上游 `gemini-cli` 同步到 v0.1.21。
- 修复了多个 Qwen 会话之间的令牌同步问题。
- 通过在无效工具调用时提前停止改进了工具执行。
- 为 shell 工具添加了明确的 `is_background` 参数。
- 通过子命令增强了内存管理，以在项目和全局内存操作之间切换。
- 为了更好的品牌一致性，将 `GEMINI_DIR` 重命名为 `QWEN_DIR`。
- 添加了对 Qwen Markdown 选择的支持。
- 修复了并行工具使用并改进了工具可靠性。
- 升级了集成测试以使用 Vitest 框架。
- 通过启动配置增强了 VS Code IDE 集成。
- 添加了终端设置命令以支持 Shift+Enter 和 Ctrl+Enter。
- 修复了 GitHub Workflows 配置问题。
- 改进了设置目录和命令描述。
- 修复了 yargs 配置中的区域设置处理。
- 添加了对 `trustedFolders.json` 配置文件的支持。
- 增强了沙盒构建脚本的跨平台兼容性。
- 改进了错误处理并修复了模糊的字面量。
- 更新了文档链接并添加了 IDE 集成文档。
- 其他改进和错误修复。

## 0.0.8

- 将上游 `gemini-cli` 同步到 v0.1.19。
- 将文档品牌从 **Gemini CLI** 更新为 **Qwen Code**。
- 在 `README.md` 中添加了多语言文档链接。
- 为 DashScope 提供程序添加了确定性缓存控制。
- 添加了选择项目级或全局保存位置的选项。
- 默认将 `grep` 结果限制为 25 个项目。
- `grep` 现在遵守 `.qwenignore`。
- 其他改进和错误修复。

## 0.0.7

- 将上游 `gemini-cli` 同步到 v0.1.18。
- 修复了 MCP 工具。
- 修复了 Web Fetch 工具。
- 通过从 Google/Gemini 切换到 Tavily API 修复了 Web Search 工具。
- 使工具调用对 LLM 偶尔返回的无效 JSON 参数具有容错性。
- 防止了罕见情况下的并发查询提交。
- 修正了 Qwen 记录器退出处理程序设置。
- 分离了静态 QR 码和动态旋转器组件。

## 0.0.6

- 为 Qwen 集成添加了使用统计日志记录。
- 使 `/init` 遵循配置的上下文文件名并将文档与 `QWEN.md` 对齐。
- 修复了在 macOS 上运行 `qwen --sandbox` 时的 `EPERM` 错误。
- 修复了等待登录时的终端闪烁问题。
- 修复了 `glm-4.5` 模型请求错误。

## 0.0.5

- 添加了 Qwen OAuth 登录和每天最多 2,000 次免费请求。
- 将上游 `gemini-cli` 同步到 v0.1.17。
- 添加了 `systemPromptMappings` 配置选项。
